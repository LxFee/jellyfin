"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[3989],{63989:function(e,r,t){t.r(r),t(19068),t(87211),t(25901),t(92189),t(63238),t(95163),t(99785),t(91047),t(5769),t(17460),t(14078);var i=t(83094),n=t(58104),o=(t(21865),t(78066),t(48085),t(53913));function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function a(e,r){for(var t=0;t<r.length;t++){var i=r[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(void 0,n=function(e,r){if("object"!==s(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var i=t.call(e,"string");if("object"!==s(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(i.key),"symbol"===s(n)?n:String(n)),i)}var n}function c(){var e=this.item;if(e){var r=e.ServerId,t=e.Id,i=e.TimerId,o=e.Status,s=e.SeriesTimerId,a=this;n.default.toggleRecording(r,t,i,o,s).then((function(){a.refresh(r,t)}))}}function l(e,r){var t=e.querySelector(".material-icons");t.classList.remove("fiber_smart_record"),t.classList.remove("fiber_manual_record"),t.classList.add(r)}var u=function(){function e(r){!function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=r;var t=r.button;l(t,"fiber_manual_record"),r.item?this.refreshItem(r.item):r.itemId&&r.serverId&&this.refresh(r.itemId,r.serverId);var n=c.bind(this);this.clickFn=n,i.ZP.addEventListener(t,"click",n,{passive:!0})}var r,t;return r=e,(t=[{key:"refresh",value:function(e,r){var t=o.Z.getApiClient(e),i=this;t.getItem(t.getCurrentUserId(),r).then((function(e){i.refreshItem(e)}))}},{key:"refreshItem",value:function(e){var r=this.options.button;this.item=e,l(r,function(e){var r;if("SeriesTimer"===e.Type)return"fiber_smart_record";if(e.TimerId||e.SeriesTimerId)r=e.Status||"Cancelled";else{if("Timer"!==e.Type)return"fiber_manual_record";r=e.Status}return e.SeriesTimerId&&"Cancelled"!==r?"fiber_smart_record":"fiber_manual_record"}(e)),e.TimerId&&"Cancelled"!==(e.Status||"Cancelled")?r.classList.add("recordingIcon-active"):r.classList.remove("recordingIcon-active")}},{key:"destroy",value:function(){var e=this.options;if(e){var r=e.button,t=this.clickFn;t&&i.ZP.removeEventListener(r,"click",t,{passive:!0})}this.options=null,this.item=null}}])&&a(r.prototype,t),Object.defineProperty(r,"prototype",{writable:!1}),e}();r.default=u},7547:function(e,r,t){var i=t(54933),n=t.n(i),o=t(93476),s=t.n(o)()(n());s.push([e.id,".recordingButton{margin-left:0;min-width:10em}.recordingIcon-active{color:#c33}.recordSeriesContainer{margin-bottom:.8em}",""]),r.Z=s},48085:function(e,r,t){var i=t(1892),n=t.n(i),o=t(95760),s=t.n(o),a=t(38311),c=t.n(a),l=t(58192),u=t.n(l),f=t(38060),m=t.n(f),d=t(54865),v=t.n(d),b=t(7547),h={};h.styleTagTransform=v(),h.setAttributes=u(),h.insert=c().bind(null,"head"),h.domAPI=s(),h.insertStyleElement=m(),n()(b.Z,h),b.Z&&b.Z.locals&&b.Z.locals}}]);