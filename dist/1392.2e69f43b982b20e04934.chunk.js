"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[1392],{10480:function(e,t,a){t.Z={getDisplayPlayMethod:function(e){return e.NowPlayingItem?e.TranscodingInfo&&e.TranscodingInfo.IsVideoDirect&&e.TranscodingInfo.IsAudioDirect?"Remux":e.TranscodingInfo&&e.TranscodingInfo.IsVideoDirect?"DirectStream":"Transcode"===e.PlayState.PlayMethod?"Transcode":"DirectStream"===e.PlayState.PlayMethod||"DirectPlay"===e.PlayState.PlayMethod?"DirectPlay":void 0:null}}},1392:function(e,t,a){a.r(t),a.d(t,{default:function(){return k}}),a(61013),a(63238),a(61418),a(76056),a(43512),a(98010),a(5769),a(17460),a(14078),a(19068),a(87211),a(25901),a(92189),a(95163),a(99785),a(91047);var n=a(47005),l=(a(21865),a(33942)),r=a(78695),s=a(53218),i=a(10480),o=a(22155),u=a(1892),c=a.n(u),d=a(95760),p=a.n(d),f=a(38311),v=a.n(f),b=a(58192),y=a.n(b),m=a(38060),h=a.n(m),P=a(54865),g=a.n(P),S=a(11173),T={};T.styleTagTransform=g(),T.setAttributes=y(),T.insert=v().bind(null,"head"),T.domAPI=p(),T.insertStyleElement=h(),c()(S.Z,T),S.Z&&S.Z.locals&&S.Z.locals;var Z=a(53913);function I(e){return I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},I(e)}function L(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,l=function(e,t){if("object"!==I(e)||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,"string");if("object"!==I(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===I(l)?l:String(l)),n)}var l}function C(){this.enabled(!1)}function D(e){return l.ZP.translate(""+e)}function M(e,t,a){var n,r,s,i,o=[];return e.TranscodingInfo&&(n=e.TranscodingInfo.VideoCodec,r=e.TranscodingInfo.AudioCodec,s=e.TranscodingInfo.Bitrate,i=e.TranscodingInfo.AudioChannels),n&&o.push({label:l.ZP.translate("LabelVideoCodec"),value:e.TranscodingInfo.IsVideoDirect?n.toUpperCase()+" (direct)":n.toUpperCase()}),r&&o.push({label:l.ZP.translate("LabelAudioCodec"),value:e.TranscodingInfo.IsAudioDirect?r.toUpperCase()+" (direct)":r.toUpperCase()}),"Transcode"===a&&(i&&o.push({label:l.ZP.translate("LabelAudioChannels"),value:i}),s&&o.push({label:l.ZP.translate("LabelBitrate"),value:w(s)}),e.TranscodingInfo.CompletionPercentage&&o.push({label:l.ZP.translate("LabelTranscodingProgress"),value:e.TranscodingInfo.CompletionPercentage.toFixed(1)+"%"}),e.TranscodingInfo.Framerate&&o.push({label:l.ZP.translate("LabelTranscodingFramerate"),value:e.TranscodingInfo.Framerate+" fps"}),e.TranscodingInfo.TranscodeReasons&&e.TranscodingInfo.TranscodeReasons.length&&o.push({label:l.ZP.translate("LabelReasonForTranscoding"),value:e.TranscodingInfo.TranscodeReasons.map(D).join("<br/>")}),e.TranscodingInfo.HardwareAccelerationType&&o.push({label:l.ZP.translate("LabelHardwareEncoding"),value:e.TranscodingInfo.HardwareAccelerationType})),o}function w(e){return e>1e6?(e/1e6).toFixed(1)+" Mbps":Math.floor(e/1e3)+" kbps"}function R(e,t){var a,n=[],r=s.O.currentMediaSource(t)||{},i=r.Bitrate,o=r.Size;r.Container&&n.push({label:l.ZP.translate("LabelProfileContainer"),value:r.Container}),o&&n.push({label:l.ZP.translate("LabelSize"),value:(a=o,a>=1073741824?parseFloat((a/1073741824).toFixed(1))+" GiB":a>=1048576?parseFloat((a/1048576).toFixed(1))+" MiB":Math.floor(a/1024)+" KiB")}),i&&n.push({label:l.ZP.translate("LabelBitrate"),value:w(i)});var u=(r.MediaStreams||[]).filter((function(e){return"Video"===e.Type}))[0]||{},c=u.Codec,d=s.O.getAudioStreamIndex(t),p=s.O.audioTracks(t).filter((function(e){return"Audio"===e.Type&&e.Index===d}))[0]||{},f=p.Codec,v=p.Channels,b=[];c&&b.push(c.toUpperCase()),u.Profile&&b.push(u.Profile),b.length&&n.push({label:l.ZP.translate("LabelVideoCodec"),value:b.join(" ")}),u.BitRate&&n.push({label:l.ZP.translate("LabelVideoBitrate"),value:w(u.BitRate)}),u.VideoRangeType&&n.push({label:l.ZP.translate("LabelVideoRangeType"),value:u.VideoRangeType});var y=[];return f&&y.push(f.toUpperCase()),p.Profile&&y.push(p.Profile),y.length&&n.push({label:l.ZP.translate("LabelAudioCodec"),value:y.join(" ")}),p.BitRate&&n.push({label:l.ZP.translate("LabelAudioBitrate"),value:w(p.BitRate)}),v&&n.push({label:l.ZP.translate("LabelAudioChannels"),value:v}),p.SampleRate&&n.push({label:l.ZP.translate("LabelAudioSampleRate"),value:p.SampleRate+" Hz"}),p.BitDepth&&n.push({label:l.ZP.translate("LabelAudioBitDepth"),value:p.BitDepth}),n}function x(e,t){var a=function(){!function(e,t){var a=(new Date).getTime();a-(e.lastRender||0)<700||(e.lastRender=a,function(e,t){var a=t.getStats?t.getStats():Promise.resolve({}),n=function(e,t){if((new Date).getTime()-(e.lastSessionTime||0)<1e4)return Promise.resolve(e.lastSession);var a=Z.Z.getApiClient(s.O.currentItem(t).ServerId);return a.getSessions({deviceId:a.deviceId()}).then((function(t){return e.lastSession=t[0]||{},e.lastSessionTime=(new Date).getTime(),Promise.resolve(e.lastSession)}),(function(){return Promise.resolve({})}))}(e,t);return Promise.all([a,n]).then((function(e){var a=e[0].categories||[],n=e[1],r=i.Z.getDisplayPlayMethod(n),u=r;"DirectPlay"===r?u=l.ZP.translate("DirectPlaying"):"Remux"===r?u=l.ZP.translate("Remuxing"):"DirectStream"===r?u=l.ZP.translate("DirectStreaming"):"Transcode"===r&&(u=l.ZP.translate("Transcoding"));var c={stats:[],name:l.ZP.translate("LabelPlaybackInfo")};c.stats.unshift({label:l.ZP.translate("LabelPlayMethod"),value:u}),c.stats.unshift({label:l.ZP.translate("LabelPlayer"),value:t.name});var d=[];d.push(c);for(var p=0,f=a.length;p<f;p++){var v=a[p];"audio"===v.type?v.name=l.ZP.translate("LabelAudioInfo"):"video"===v.type&&(v.name=l.ZP.translate("LabelVideoInfo")),d.push(v)}var b=l.ZP.translate("LabelTranscodingInfo");"Remux"===r?b=l.ZP.translate("LabelRemuxingInfo"):"DirectStream"===r&&(b=l.ZP.translate("LabelDirectStreamingInfo")),n.TranscodingInfo&&d.push({stats:M(n,0,r),name:b}),d.push({stats:R(0,t),name:l.ZP.translate("LabelOriginalMediaInfo")});var y,m,h=Z.Z.getApiClient(s.O.currentItem(t).ServerId);return o.Z.Manager.isSyncPlayEnabled()&&h.isMinServerVersion("10.6.0")&&d.push({stats:(y=[],m=o.Z.Manager.getStats(),y.push({label:l.ZP.translate("LabelSyncPlayTimeSyncDevice"),value:m.TimeSyncDevice}),y.push({label:l.ZP.translate("LabelSyncPlayTimeSyncOffset"),value:m.TimeSyncOffset+" "+l.ZP.translate("MillisecondsUnit")}),y.push({label:l.ZP.translate("LabelSyncPlayPlaybackDiff"),value:m.PlaybackDiff+" "+l.ZP.translate("MillisecondsUnit")}),y.push({label:l.ZP.translate("LabelSyncPlaySyncMethod"),value:m.SyncMethod}),y),name:l.ZP.translate("LabelSyncPlayInfo")}),Promise.resolve(d)}))}(e,t).then((function(t){var a=e.element;a&&function(e,t){e.querySelector(".playerStats-stats").innerHTML=t.map((function(e){var t="",a=e.stats;a.length&&e.name&&(t+='<div class="playerStats-stat playerStats-stat-header">',t+='<div class="playerStats-stat-label">',t+=e.name,t+="</div>",t+='<div class="playerStats-stat-value">',t+=e.subText||"",t+="</div>",t+="</div>");for(var n=0,l=a.length;n<l;n++){t+='<div class="playerStats-stat">';var r=a[n];t+='<div class="playerStats-stat-label">',t+=r.label,t+="</div>",t+='<div class="playerStats-stat-value">',t+=r.value,t+="</div>",t+="</div>"}return t})).join("")}(a,t)})))}(e,t)};e.onTimeUpdate=a,n.Events.on(t,"timeupdate",a)}function A(e,t){var a=e.onTimeUpdate;a&&n.Events.off(t,"timeupdate",a)}var B=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=t,function(e){var t,a=document.createElement("div");a.classList.add("playerStats"),r.Z.tv&&a.classList.add("playerStats-tv"),a.classList.add("hide"),t=r.Z.tv?"":'<button type="button" is="paper-icon-button-light" class="playerStats-closeButton"><span class="material-icons close" aria-hidden="true"></span></button>';var n=r.Z.tv?"playerStats-content playerStats-content-tv":"playerStats-content";a.innerHTML='<div class="'+n+'">'+t+'<div class="playerStats-stats"></div></div>',(t=a.querySelector(".playerStats-closeButton"))&&t.addEventListener("click",C.bind(e)),document.body.appendChild(a),e.element=a}(this),this.enabled(!0)}var t,a;return t=e,a=[{key:"enabled",value:function(e){if(null==e)return this._enabled;var t=this.options;t&&(this._enabled=e,e?(this.element.classList.remove("hide"),x(this,t.player)):(this.element.classList.add("hide"),A(this,t.player)))}},{key:"toggle",value:function(){this.enabled(!this.enabled())}},{key:"destroy",value:function(){var e=this.options;e&&(this.options=null,A(this,e.player));var t=this.element;t&&(t.parentNode.removeChild(t),this.element=null)}}],a&&L(t.prototype,a),Object.defineProperty(t,"prototype",{writable:!1}),e}(),k=B},11173:function(e,t,a){var n=a(54933),l=a.n(n),r=a(93476),s=a.n(r)()(l());s.push([e.id,".playerStats{background:rgba(28,28,28,.8);border-radius:.3em;color:#fff;left:1.5em;position:absolute;top:5em}.playerStats-tv{top:4em}.playerStats-content{font-size:84%;position:relative}.playerStats-content-tv{font-size:60%}.playerStats-closeButton{color:#ccc;position:absolute;right:.25em;top:.25em;z-index:1}.playerStats-stats{display:-webkit-flex;display:flex;-webkit-flex-direction:column;flex-direction:column;max-width:50em;overflow:hidden;padding:0 3em 1em 1em}.playerStats-stat{display:-webkit-flex;display:flex;margin-left:1em}.playerStats-stat-label{font-weight:500;margin:0 .5em 0 0}.playerStats-stat-header{margin:1em 1em 0 0}.playerStats-stat-value{color:#ddd}",""]),t.Z=s}}]);